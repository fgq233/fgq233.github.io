###  基于事件的网关 

#### 1、定义
* 特点：提供了根据事件做选择的方式，根据事件判断流向
  * 网关的每一条出口顺序流都需要连接至一个**中间捕获事件**
  * 当流程执行到达基于事件的网关时，与等待状态类似，网关会暂停执行，并且为每一条出口顺序流创建一个事件订阅

* 注意：该网关的出口顺序流与一般的顺序流不同，这些顺序流从不实际执行，相反，它们用于告知流程引擎：当执行到达一个基于事件的网关时，需要订阅什么事件
  * 该网关必须有`>=`两条的出口顺序流
  * 该网关只能连接至`intermediateCatchEvent`（中间捕获事件）元素，`Flowable`不支持在该之后连接`接收任务Receive Task`
  * 连接至该网关的`intermediateCatchEvent`，必须只有一个入口顺序流

#### 2、示例
![](https://fgq233.github.io/imgs/workflow/flow34.png)


下面是一个带有基于事件的网关的示例流程
* 当执行到达基于事件的网关时，流程执行暂停
* 流程实例订阅信号事件，并创建一个2分钟后触发的定时器
* 流程引擎会等待2分钟，并同时等待信号事件
  * 如果信号在2分钟内没有触发，则会激活服务任务1，并取消信号订阅 
  * 如果信号在2分钟内触发，则会取消定时器，流程沿着信号继续执行，激活服务任务2
