###  事件子流程


#### 1、描述
* 事件子流程不能直接启动，而是通过事件被动触发启动
* 可以在`流程级别、任何子流程级别`添加事件子流程
* 使用注意：
  * 事件子流程不能有任何入口或出口顺序流
  * 不能在事件子流程中使用空启动事件
  * 目前的限制：Flowable支持`错误、定时器、信号、消息启动事件`触发事件子流程


#### 2、XML表示
事件子流程需要将`triggeredByEvent`属性设置为true

```
<subProcess id="eventSubProcess" triggeredByEvent="true">
	...
</subProcess>
```

#### 3、流程图
边框为`虚线`

![](https://fgq233.github.io/imgs/workflow/flow36.png)


上面是使用`错误开始事件`触发事件子流程的例子


#### 4、用在嵌套子流程内
![](https://fgq233.github.io/imgs/workflow/flow37.png)


![](https://fgq233.github.io/imgs/workflow/flow38.png)


* 事件子流程也可以添加到嵌套子流程内（上图）,若添加到嵌套子流程内，可以代替边界事件的功能（下图）
* 两个流程图中，嵌套子流程都抛出错误事件，错误事件都被捕获，并由服务任务处理
* 区别1
  * 事件子流程使用其宿主范围的执行实例，因此可以访问嵌套子流程其范围的局部变量
  * 当使用边界事件时，执行嵌套子流程的执行实例，会被边界事件的出口顺序流删除，意味着嵌套子流程创建的变量将不再可用
* 区别2
  * 使用事件子流程时，事件完全由其所在的子流程处理，当使用边界事件时，事件由其父流程处理
