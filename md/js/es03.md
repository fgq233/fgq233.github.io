### Set 数据结构
ES6 提供了新的数据结构 Set，它类似于数组，但是成员的值都是唯一的，没有重复的值

### 1. Set初始化
Set本身是一个构造函数，用来生成 Set 数据结构
* 无参创建，通过 `add()` 方法添加数据
* 接受一个数组（或具有 `iterable` 接口的其他数据结构）作为参数创建

```
const s1 = new Set();
[2, 3, 5, 4, 5, 2, 2].forEach(x => s1.add(x));
for (let i of s1) {
  console.log(i);       // 2 3 5 4
}
console.log(s1.size);   // 4


const s2 = new Set([1, 2, 3, 4, 4]);
for (let i of s2) {
  console.log(i);       // 1 2 3 4
}
console.log(s2.size);   // 4
```

### 2. 不重复
向 Set 加入值的时候，不会发生类型转换，所以6和"6"是两个不同的值。Set 内部判断两个值是否不同，
使用的算法叫做“`Same-value-zero equality`”，类似于精确相等运算符（===），
主要的区别是向 Set 加入值时认为NaN等于自身，而精确相等运算符认为NaN不等于自身

```
let s = new Set();
let a = NaN;
let b = NaN;
s.add(a);
s.add(b);
s   // Set {NaN}    表明在 Set 内部两个NaN是相等的
```

由于Set成员数据唯一，所以可以用来去除数组中重复成员

```
let arr = [1, 2, 2, 3, 4, 5, 6, 6, 6];
let arr2 = [...new Set(arr)];
console.log(arr2);   // [ 1, 2, 3, 4, 5, 6 ]

或
function dedupe(array) {
  return Array.from(new Set(array));        // Array.from()可以将Set转为数组
}
dedupe([1, 1, 2, 3]) // [1, 2, 3]
```


### 3. Set 常用方法
```
let s = new Set();
s.add(1).add(2).add(3).add(4);    // 添加某个值，返回 Set 结构本身
s.size          // 4     返回Set实例的成员总数
s.has(1)       // true   返回一个布尔值，表示该值是否为Set的成员
s.delete(2);  // true    删除某个值，返回一个布尔值，表示删除是否成功
s.clear      // 清除所有成员，没有返回值
```

### 4. Set 遍历
Set 结构的键名就是键值，两者是同一个值

```
let set = new Set(['red', 'green', 'blue']);
// keys() 返回键名的遍历器
for (let item of set.keys()) {
  console.log(item);        // red、green、blue
}

// values() 返回键值的遍历器
for (let item of set.values()) {
  console.log(item);        // red、green、blue
}

// entries() 返回键值键值对的遍历器
for (let item of set.entries()) {
  console.log(item);        // ["red", "red"]、["green", "green"]、["blue", "blue"]
}

//  for...of循环遍历 Set
for (let x of set) {
  console.log(x);           // red、green、blue
}

//  forEach()循环遍历 Set
set.forEach((value, key) => console.log(key + ':' + value));  // red:red、green:green、blue:blue


// 数组 map 方法简介用于 Set，三步：set转数组、map生成新数组、生成set
let set = new Set([1, 2, 3]);
set = new Set([...set].map(x => x * 2));                // 返回Set结构：{2, 4, 6}

// 数组 filter 方法简介用于 Set，三步：set转数组、filter生成新数组、生成set
let set = new Set([1, 2, 3, 4, 5]);
set = new Set([...set].filter(x => (x % 2) == 0));      // 返回Set结构：{2, 4}

```
